{"version":3,"sources":["js/main.js"],"names":["sendForm","document","getElementById","pointerRender","gallery","querySelector","notFoundPhoto","innerHTML","sp","createElement","className","appendChild","makeRequest","method","url","fetch","headers","then","response","json","renderSearchImg","data","arrayImg","map","el","elemImg","classNameDiv","src","urls","thumb","classNameImg","openUrlImg","small","d","addEventListener","e","preventDefault","openImgFull","img","Image","push","divOpenFullImg","remove","body","event","searchNameImg","value","total","results","err","console","log"],"mappings":";AAAA,IAAMA,EAAWC,SAASC,eAAe,YACnCC,EAAgBF,SAASC,eAAe,WACxCE,EAAUH,SAASI,cAAc,YAkBvC,SAASC,IACPL,SAASC,eAAe,WAAWK,UAAY,GAC3CC,IAAAA,EAAKP,SAASQ,cAAc,QAChCD,EAAGD,UAAY,8CACfC,EAAGE,UAAY,WACfP,EAAcQ,YAAYH,GAG5B,SAASI,EAAYC,EAAQC,GAKpBC,OAAAA,MAAMD,EAAK,CAChBD,OAAQA,EACRG,QANc,CACG,cAAA,wDACD,eAAA,oCAMfC,KAAK,SAAAC,GACGA,OAAAA,EAASC,SAItB,SAASC,EAAiBC,GACxBpB,SAASC,eAAe,WAAWK,UAAY,GAC3Ce,IAAAA,EAAW,GAqBRA,OApBPD,EAAKE,IAAI,SAAAC,GACHC,IAAAA,EAAU,CACZC,aAAc,iBACdC,IAAKH,EAAGI,KAAKC,MACbC,aAAc,YACdC,WAAYP,EAAGI,KAAKI,OAEtBC,EAAIhC,SAASQ,cAAc,OAC3BwB,EAAEvB,UAAYe,EAAQC,aACtBO,EAAEC,iBAAkB,QAAS,SAAAC,GAC3BA,EAAEC,iBACFC,EAAYZ,EAAQM,cAEtB5B,EAAcQ,YAAYsB,GACtBK,IAAAA,EAAM,IAAIC,MACdD,EAAIX,IAAMF,EAAQE,IAClBW,EAAI5B,UAAYe,EAAQK,aACxBG,EAAEtB,YAAY2B,GACdhB,EAASkB,KAAKf,KAETH,EAGT,SAAUe,EAAaV,GACjBc,IAAAA,EAAiBxC,SAASQ,cAAc,OAC5CgC,EAAe/B,UAAY,UAC3B+B,EAAeP,iBAAiB,QAAU,SAAAC,GACxCA,EAAEC,iBACFK,EAAeC,WAEbJ,IAAAA,EAAM,IAAIC,MACdD,EAAIX,IAAMA,EACVc,EAAe9B,YAAY2B,GAC3BrC,SAAS0C,KAAKhC,YAAY8B,GA1E5BzC,EAASkC,iBAAiB,SAAU,SAACU,GACnCA,EAAMR,iBACAS,IAAAA,EAAgB5C,SAASC,eAAe,iBAAiB4C,MACzDhC,EAAyE+B,mEAAAA,OAAAA,GAC/E5C,SAASC,eAAe,iBAAiB4C,MAAQ,GAEjDlC,EAAY,MAAOE,GAChBG,KAAK,SAAAI,GACgB,IAAfA,EAAK0B,MACR3B,EAAgBC,EAAK2B,SAChB1C,MAERW,KAAK,SAAAgC,GAAOC,OAAAA,QAAQC,IAAIF","file":"main.bc750912.js","sourceRoot":"..","sourcesContent":["const sendForm = document.getElementById('sendForm')\nconst pointerRender = document.getElementById('gallery')\nconst gallery = document.querySelector('.gallery')\n\nsendForm.addEventListener('submit', (event) => {\n  event.preventDefault()\n  const searchNameImg = document.getElementById('searchNameImg').value\n  const url = `https://api.unsplash.com/search/photos?per_page=10&page=1&query=${searchNameImg}`\n  document.getElementById('searchNameImg').value = ''\n\n  makeRequest('GET', url)\n    .then(data => {\n      if ( data.total !== 0) {\n        renderSearchImg(data.results)\n      } else notFoundPhoto()\n    })\n    .then(err => console.log(err))\n  }\n)\n\nfunction notFoundPhoto () {\n  document.getElementById('gallery').innerHTML = \"\";\n  let sp = document.createElement('span')\n  sp.innerHTML = 'фото не найденo, попробуйте изменить запрос'\n  sp.className = 'notPhoto'\n  pointerRender.appendChild(sp)\n}\n\nfunction makeRequest(method, url) {\n  const headers = {\n    \"Authorization\": \"Client-ID -dkXdY0X4XMvtNfqESKQXwy3ItkXWHCkVeb-T1EAX_Y\",\n    'Content-Type': 'application/json;charset=utf-8'\n  }\n  return fetch(url, {\n    method: method,\n    headers: headers\n  })\n    .then(response => {\n      return response.json()\n    })\n}\n\nfunction renderSearchImg (data) {\n  document.getElementById('gallery').innerHTML = \"\";\n  let arrayImg = []\n  data.map(el => {\n    let elemImg = {\n      classNameDiv: 'divSearchClass',\n      src: el.urls.thumb,\n      classNameImg: 'imgSearch',\n      openUrlImg: el.urls.small\n    }\n    d = document.createElement('div')\n    d.className = elemImg.classNameDiv\n    d.addEventListener( 'click', e => {\n      e.preventDefault()\n      openImgFull(elemImg.openUrlImg)\n    })\n    pointerRender.appendChild(d)\n    let img = new Image()\n    img.src = elemImg.src\n    img.className = elemImg.classNameImg\n    d.appendChild(img)\n    arrayImg.push(elemImg)\n  })\n  return arrayImg\n}\n\nfunction  openImgFull (src) {\n  let divOpenFullImg = document.createElement('div')\n  divOpenFullImg.className = 'fullImg'\n  divOpenFullImg.addEventListener('click' , e => {\n    e.preventDefault()\n    divOpenFullImg.remove()\n  })\n  let img = new Image()\n  img.src = src\n  divOpenFullImg.appendChild(img)\n  document.body.appendChild(divOpenFullImg)\n}\n"]}